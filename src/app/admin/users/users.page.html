<ion-header translucent>
  <ion-toolbar>
    <ion-buttons slot="end">
      <ion-img src="assets/img/logo/logo.svg" class="logo-header"></ion-img>
    </ion-buttons>
    <ion-title>Usuarios</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content fullscreen>
  <ion-list lines="none">
    <ion-list-header>Gesti√≥n de Usuarios</ion-list-header>

    <ion-item-sliding *ngFor="let user of users | async">
      <ion-item-options side="start">
        <ion-item-option expandable color="success">
          <ion-icon slot="icon-only" name="shield-checkmark"></ion-icon>
        </ion-item-option>
      </ion-item-options>
      <ion-item>
        <ion-avatar slot="start">
          <ion-img
            [src]="user.photoURL || 
          'https://ui-avatars.com/api/?size=200&background=079db6&color=fff&name=' + user.firstname + '+' + user.lastname || 
          'https://southernplasticsurgery.com.au/wp-content/uploads/2013/10/user-placeholder.png'"
          ></ion-img>
        </ion-avatar>
        <ion-label>
          <h2>
            {{user?.firstname ? user?.firstname + ' ' + user?.lastname :
            user?.displayName | titlecase}}
          </h2>
          <p><b>Telefono:</b> {{user.tel}}</p>
          <p><b>Correo:</b> {{user.email}}</p>
        </ion-label>
        <ion-icon
          *ngIf="user.isAdmin"
          name="checkmark-done"
          slot="end"
          color="success"
        ></ion-icon>
        <ion-icon
          *ngIf="!user.isAdmin && user.emailVerified"
          name="checkmark"
          slot="end"
          color="primary"
        ></ion-icon>

        <ion-icon
          *ngIf="!user.isAdmin && !user.emailVerified"
          name="close"
          slot="end"
          color="danger"
        ></ion-icon>
      </ion-item>
      <ion-item-options side="end">
        <ion-item-option expandable color="danger">
          <ion-icon slot="icon-only" name="lock-closed"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>
</ion-content>
